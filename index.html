<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Presupuestos 2N</title>

    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  </head>

  <body>
    <!-- =========================================================
         LOGIN (MODAL FLOTANTE)
    ========================================================== -->
    <div id="loginPage" class="login-page">
      <div class="login-card">
        <h2 class="login-title">Acceso</h2>
        <p class="login-subtitle">Inicia sesión para acceder a Presupuestos 2N.</p>

        <div class="form-group mb-2">
          <label>Email</label>
          <input id="loginEmail" type="email" placeholder="nombre@empresa.com" />
        </div>

        <div class="form-group mb-3">
          <label>Contraseña</label>
          <input id="loginPass" type="password" placeholder="••••••••" />
        </div>

        <button id="btnLogin" class="btn btn-primary" style="width: 100%">
          Entrar
        </button>

        <div class="text-center mt-2 text-small text-muted">
          o continúa con
        </div>

        <button id="btnLoginGoogle" class="btn btn-secondary mt-2" style="width: 100%">
          Acceder con Google
        </button>

        <div id="loginError" class="alert alert-error mt-2" style="display: none"></div>

        <p class="login-footer">Presupuestos 2N</p>
      </div>
    </div>

    <!-- =========================================================
         APLICACIÓN (OCULTA HASTA LOGIN)
    ========================================================== -->
    <div id="appShell" class="app-shell" style="display: none">
      <header class="app-topbar">
        <div class="app-topbar-left">
          <div class="app-topbar-title">Presupuestos 2N</div>
          <div id="currentViewSubtitle" class="app-topbar-subtitle"></div>
        </div>

        <div class="app-topbar-right">
          <span id="userBadge" class="user-badge"></span>
        </div>
      </header>

      <div class="app-layout">
        <!-- Sidebar -->
        <aside class="app-sidebar">
          <div class="sidebar-section">
            <div class="sidebar-section-title">Documentación</div>
            <button class="sidebar-item" data-view="dashboardDoc">
              <span class="sidebar-item-dot"></span> Dashboard
            </button>
          </div>

          <div class="sidebar-section">
            <div class="sidebar-section-title">Proyectos</div>
            <button class="sidebar-item" data-view="proyecto">
              <span class="sidebar-item-dot"></span> Proyectos
            </button>
            <button class="sidebar-item" data-view="presupuesto">
              <span class="sidebar-item-dot"></span> Presupuesto
            </button>
          </div>

          <div class="sidebar-section">
            <div class="sidebar-section-title">Tarifa</div>
            <button class="sidebar-item" data-view="tarifa">
              <span class="sidebar-item-dot"></span> Tarifa 2N
            </button>
          </div>
        </aside>

        <!-- Contenido principal -->
        <main class="app-main">
          <!-- Vista: Dashboard documentación -->
          <section id="view-dashboardDoc" class="view active">
            <div class="card">
              <div class="card-header">
                <h2 class="card-title">Documentación 2N</h2>
                <p class="card-subtitle">
                  Selecciona el tipo de documentación que necesitas.
                </p>
              </div>
              <div class="card-body">
                <div class="grid-2">
                  <button class="btn btn-outline" data-doc="ficha_producto">
                    Ficha de producto
                  </button>
                  <button class="btn btn-outline" data-doc="memoria_calidades">
                    Memoria de calidades
                  </button>
                  <button class="btn btn-outline" data-doc="presentacion"
