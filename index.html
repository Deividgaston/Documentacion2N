<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2N ¬∑ Programa Presupuestos</title>

    <!-- CSS principal (Salesforce Lightning Style) -->
    <link rel="stylesheet" href="style.css" />

    <!-- √çcono opcional -->
    <link rel="icon" href="img/favicon.svg" type="image/svg+xml" />

</head>

<body>

    <!-- ==============================
         LOGIN PAGE
    =============================== -->
    <div id="loginPage" class="login-page" style="display: none;">
        <div class="login-card">

            <h2 class="login-title">Acceso</h2>
            <p class="login-subtitle">Inicia sesi√≥n para acceder al programa</p>

            <div class="form-group mb-2">
                <label>Email</label>
                <input id="loginEmail" type="email" placeholder="nombre@empresa.com" />
            </div>

            <div class="form-group mb-3">
                <label>Contrase√±a</label>
                <input id="loginPass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
            </div>

            <button id="btnLogin" class="btn btn-primary" style="width: 100%;">Entrar</button>

            <div id="loginError" class="alert alert-error mt-2" style="display:none;"></div>

            <p class="login-footer">Programa de Presupuestos ¬∑ 2N</p>
        </div>
    </div>

    <!-- ==============================
         APP SHELL (SIDEBAR + CONTENIDO)
    =============================== -->
    <div id="appShell" class="app-shell" style="display: none;">

        <!-- ===== Sidebar ===== -->
        <aside class="app-sidebar">

            <div class="app-sidebar-logo">
                <img src="img/logo_2n.png" alt="2N" />
                <span>2N Presupuestos</span>
            </div>

            <div class="app-nav-section-title">Men√∫</div>
            <ul class="app-nav">

                <li class="app-nav-item">
                    <a href="#" class="app-nav-link active" data-view="proyecto">
                        üìÅ Proyecto
                    </a>
                </li>

                <li class="app-nav-item">
                    <a href="#" class="app-nav-link" data-view="presupuesto">
                        üßæ Presupuesto
                    </a>
                </li>

                <li class="app-nav-item">
                    <a href="#" class="app-nav-link" data-view="tarifa">
                        üí∞ Tarifa 2N
                    </a>
                </li>

                <li class="app-nav-item">
                    <a href="#" class="app-nav-link" data-view="docs">
                        üìÑ Documentaci√≥n
                    </a>
                </li>

            </ul>

            <div style="margin-top: auto; padding: 1rem 0.7rem;">
                <button id="btnLogout" class="btn btn-secondary" style="width: 100%;">Cerrar sesi√≥n</button>
            </div>

        </aside>

        <!-- ===== Panel Principal ===== -->
        <div class="app-main">

            <header class="app-topbar">
                <div class="app-topbar-left">
                    <div class="app-topbar-title">Programa Presupuestos 2N</div>
                    <div id="currentViewSubtitle" class="app-topbar-subtitle">
                        Presupuestos 2N ¬∑ Uso interno. Datos y precios orientativos, validar siempre con tarifa actualizada.
                    </div>
                </div>

                <div class="app-topbar-right">
                    <span id="userBadge" class="badge-user">Usuario</span>
                </div>
            </header>

            <main id="appContent" class="app-content">
                <!-- El contenido din√°mico se carga aqu√≠ -->
            </main>

        </div>

    </div>

    <!-- ==============================
         SCRIPTS PRINCIPALES
    =============================== -->

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

    <!-- Librer√≠a Excel (SheetJS) -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

    <!-- Config -->
    <script src="js/firebase.js"></script>
    <script src="js/firebase_tarifa.js"></script>

    <!-- Estado global -->
    <script src="js/state.js"></script>

    <!-- Utilidades -->
    <script src="js/utils.js"></script>

    <!-- Pantallas -->
    <script src="js/ui_login.js"></script>
    <script src="js/ui_shell.js"></script>
    <script src="js/ui_proyecto.js"></script>
    <script src="js/ui_presupuesto.js"></script>
    <script src="js/ui_tarifa.js"></script>
    <script src="js/ui_dashboard_doc.js"></script>

    <!-- Exportaci√≥n PDF/Excel -->
    <script src="js/pdf_excel.js"></script>

    <!-- Inicializaci√≥n -->
    <script src="app.js"></script>
    <script src="js/main.js"></script>

</body>
</html>
